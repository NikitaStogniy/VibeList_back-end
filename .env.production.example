# ============================================================================
# VibeList Backend - PRODUCTION Environment Configuration
# ============================================================================
# This file is a template for production environment variables
# Copy to /opt/vibelist/.env.production on your server and fill in real values
# Deploy using: NODE_ENV=production
# ============================================================================

# ============================================================================
# APPLICATION
# ============================================================================

NODE_ENV=production
API_PREFIX=api/v1
PORT=3000

# CORS Origins (add your production domains)
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com,https://app.yourdomain.com

# Application URLs
APP_URL=https://api.yourdomain.com
FRONTEND_URL=https://yourdomain.com

# Swagger (disable in production for security)
ENABLE_SWAGGER=false
SWAGGER_PATH=api/docs

# ============================================================================
# DATABASE (PostgreSQL)
# ============================================================================
# IMPORTANT: In Docker, use container names as hosts (postgres, redis)
# NOT localhost!

DATABASE_URL=postgresql://vibelist:CHANGE_THIS_PASSWORD@postgres:5432/vibelist
DB_HOST=postgres
DB_PORT=5432
DB_USERNAME=vibelist
DB_PASSWORD=CHANGE_THIS_PASSWORD
DB_DATABASE=vibelist

# CRITICAL: Must be false in production! Use migrations only
DB_SYNCHRONIZE=false
DB_LOGGING=false
ENABLE_QUERY_LOGGING=false

# SSL Connection (set to true only if your PostgreSQL requires SSL)
# For local Docker setup, keep this false
DB_SSL=false

# ============================================================================
# JWT AUTHENTICATION
# ============================================================================
# SECURITY: Generate NEW secrets for production!
# Command: openssl rand -hex 64

# DO NOT USE THESE - GENERATE NEW ONES!
JWT_SECRET=GENERATE_NEW_64_CHAR_SECRET_HERE
JWT_REFRESH_SECRET=GENERATE_NEW_DIFFERENT_64_CHAR_SECRET_HERE
JWT_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=7d

# ============================================================================
# REDIS
# ============================================================================
# In Docker network, use 'redis' as hostname

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_TTL=300
REDIS_URL=redis://redis:6379

# ============================================================================
# OAUTH 2.0
# ============================================================================

GOOGLE_CLIENT_ID=123456789012-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.apps.googleusercontent.com
APPLE_CLIENT_ID=com.yourcompany.yourapp

# ============================================================================
# FIREBASE CLOUD MESSAGING (Push Notifications)
# ============================================================================

FCM_PROJECT_ID=your-firebase-project-id
FCM_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_FIREBASE_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n"
FCM_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project-id.iam.gserviceaccount.com
FCM_DATABASE_URL=https://your-project-id.firebaseio.com

# Optional: Path to service account JSON file
FIREBASE_SERVICE_ACCOUNT_PATH=./your-firebase-adminsdk.json

# ============================================================================
# EMAIL (Resend)
# ============================================================================

# Generate your own Resend API key from https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxx
RESEND_FROM_EMAIL=noreply@yourdomain.com

# Email Provider Config (keeping for compatibility)
EMAIL_PROVIDER=resend
EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME=YourAppName

# ============================================================================
# PARSER MODULE (Scrapfly)
# ============================================================================
# Scrapfly already includes anti-bot protection and proxies, no need for separate proxy config

# Generate your own Scrapfly API key from https://scrapfly.io/dashboard
SCRAPFLY_API_KEY=scp-live-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Parser timeout
PARSER_TIMEOUT=30000

# ============================================================================
# SECURITY
# ============================================================================

# Password Hashing (increase for production)
BCRYPT_SALT_ROUNDS=12

# Security Headers
ENABLE_HELMET=true
ENABLE_CORS=true
COOKIE_SECRET=GENERATE_NEW_32_CHAR_SECRET_HERE

# Rate Limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# FILE UPLOADS
# ============================================================================

MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp
UPLOAD_DEST=./uploads

# AWS S3 (Optional - for production file storage)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY
AWS_S3_BUCKET=vibelist-production-images
AWS_S3_REGION=us-east-1

# Cloudinary (Alternative to S3)
CLOUDINARY_CLOUD_NAME=your-cloudinary-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# ============================================================================
# MONITORING & LOGGING
# ============================================================================

LOG_LEVEL=info
SENTRY_DSN=

# ============================================================================
# REMOVED FROM PRODUCTION (Monolith - No Microservices)
# ============================================================================
# These were removed because you migrated from microservices to monolith:
# - AUTH_SERVICE_URL, USER_SERVICE_URL, etc.
# - GATEWAY_PORT, AUTH_SERVICE_PORT, etc.
# - All inter-service communication URLs
#
# ============================================================================
